<h1>Quiz Results</h1>
<mat-card class="page-card">
  <mat-progress-bar [color]="buttonColor" mode="determinate" [value]="score">
  </mat-progress-bar>
  <mat-card-header>
    <div class="top-button-container">
      <button mat-button (click)="goToList()">List</button>
      <button
        autoFocus
        class="top-button"
        mat-raised-button
        [color]="buttonColor"
        (click)="reset()"
      >
        Try Again
      </button>
    </div>
    <mat-card-title>
      You scored is {{ score }}% {{ numCorrect }} of
      {{ quiz.questions.length }}
    </mat-card-title>
    <mat-card-subtitle> {{ message }}</mat-card-subtitle>
  </mat-card-header>

  <mat-card-content>
    <mat-list class="hover-list">
      <ng-container
        *ngFor="let question of quiz.questions; let questionIndex = index"
      >
        <h3>{{ question.text }}</h3>
        <ng-container
          *ngFor="let option of question.options; let optionIndex = index"
        >
          <mat-list-item
            *ngIf="
              isSelected(question, optionIndex | alphabetLetter, questionIndex)
            "
            [ngClass]="{
              correct: isCorrect(
                question,
                optionIndex | alphabetLetter,
                questionIndex
              ),
              incorrect: isInCorrect(
                question,
                optionIndex | alphabetLetter,
                questionIndex
              )
            }"
          >
            <label> {{ option }} </label>
          </mat-list-item>
        </ng-container>
        <mat-form-field
          *ngIf="
            question.description && !isAnswerCorrect(question, questionIndex)
          "
          class="description"
          appearance="fill"
        >
          <mat-label>Explanation</mat-label>
          <textarea matInput readonly disabled="true">
            {{ question.description }}
          </textarea>
        </mat-form-field>
      </ng-container>
    </mat-list>
  </mat-card-content>
  <mat-card-footer>
    <mat-card-actions class="bottom-button-container space-between">
      <button mat-raised-button [color]="buttonColor" (click)="reset()">
        Try Again
      </button>
    </mat-card-actions>
  </mat-card-footer>
</mat-card>
