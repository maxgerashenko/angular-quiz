<div class="page-content">
  <h1>Quiz Results</h1>

  <mat-card class="page-card">
    <mat-progress-bar
      [color]="progressBarColor"
      mode="determinate"
      [value]="score"
    >
    </mat-progress-bar>
    <mat-card-header>
      <button
        class="top-button"
        mat-raised-button
        color="accent"
        (click)="reset.emit()"
      >
        Try Again
      </button>
      <mat-card-title>
        You scored is {{ score }}% {{ numCorrect }} of
        {{ quiz.questions.length }}
      </mat-card-title>
      <mat-card-subtitle> {{ message }}</mat-card-subtitle>
    </mat-card-header>

    <mat-card-content>
      <mat-list class="hover-list">
        <ng-container
          *ngFor="let question of quiz.questions; let questionIndex = index"
        >
          <h3>{{ question.text }}</h3>
          <mat-list-item
            *ngFor="let option of question.options; let optionIndex = index"
            [ngClass]="{
              correct:
                ((optionIndex | alphabetLetter) === answers[questionIndex] &&
                  answers[questionIndex] === question.answer) ||
                (optionIndex | alphabetLetter) === question.answer,
              incorrect:
                (optionIndex | alphabetLetter) === answers[questionIndex] &&
                answers[questionIndex] !== question.answer
            }"
          >
            <label>
              {{ optionIndex | alphabetLetter }}. {{ option }}fdasfasdf
            </label>
          </mat-list-item>
        </ng-container>
      </mat-list>
    </mat-card-content>
    <mat-card-footer>
      <mat-card-actions class="button-container space-between">
        <button mat-raised-button color="accent" (click)="reset.emit()">
          Try Again
        </button>
      </mat-card-actions>
    </mat-card-footer>
  </mat-card>
</div>
